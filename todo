tmo: srcf ffb, arp triggers, drp-lustre, psana-live with chunking in-progress
idea brainstorming
rayonix: silke/mikhail: ped runs for bad pix (mfxlv4618 run 438) all zero peds for psana want status mask, mikhail: geometry (static default), psgeom (detector center) support mtrxv2
* xtcdata, latency, srcf batchtest, qrix/dream, inprogress, new opal, 2 ffb live issues, ami ipc, xtcav sxr/hxr(py3), opal exposure
* downtime: neh lustre, 1MHz, tmo srcf, update rogue, bos, fims, hsd configs, timing system per hutch, bos
* starts 4/21, 4/22-23 cooling outage, 4/26 nfs, end 5/3
* longterm: mona mpi

sebastien priorities:

New data analysis system (SDF) (long time)
AMI-2 to HXU instruments (no)
Python3 for XTCAV and psocake (6 weeks)
Parallelize Offline AMI2 (done)
Derive pedestals from dropped shots (3 months for jungfrau/epix)

* code/results migration to/from nersc/sdf
* fix psana1 test release LD_PRELOAD hack caused by removal of
  ' -Wl,--copy-dt-needed-entries -Wl,--enable-new-dtags'
  in SConsTools/psdm_cplusplus.py for gcc48.
** avoid deselecting meb? (caf)
* psana dbase access for live mode list of files
* generic detector calibration constants (e.g. manta)
* yves acremann detector
* teststand: kcu's to acc nodes (01,02,05,06), bring back ffb, fix ib manager and moving it to switch
** for phil: configdb_readxtc and compare configs (ro, caf)
* archon for rix
* improved psana1 tests (ro)
* lcls2 common-mode for panels in different gain ranges (mikhail)
* update rogue
* mechanism for segment-level errors also go to control-gui (caf)
* plims for lcls2
* mpi jobs not exiting if one core crashes
* put procstat in prometheus (or hard to duplicate all functionality?)
* how to deal with pickle in the calibdb?
* protect against use of keywords as epics aliases, consider using namespacing. write a sanitizer for epicsarch files (use "import keywords"?)
* send clearreadout to pvadetectors
* support uniform 3D arrays in areadetector interface
* remove git passwords for relmanage
* eliminate opal lcls1->lcls2 timing toggling (larry, ben)
* multiseg epics (kwargs or collection segids?) (mona)
* jungfrau/epix dark shot pedestals
* psana1: implement idx using smd
* correct setting for hyperthreading? (ric says important for MHz)
* psana2 idx mode
* psana1: add epix firmware id in epix id's for phil
* upgrade jupyterhub or use on-demand?
* general test that all public detector attributes are method taking event with return type (ro)
** support multiple cameras on one drp node
** one exe writing multiple files to improve performance
* move batch tests to slurm
** xtcdata duplicate names throw
* move away from afs (mv pdsdata/psalg repo)
* spares
** make everything work with Debug instead of RelWithDebInfo (valerio, ric)
* move readout group config info from segment levels to ts
* optionally don't record selected detectors to disk
* mikhail: roentdek with quadanode
* fix camlink converter box with opal where only one strip works (requires camlink powercycle)
* daq window placement
* parallelized calibrations (mikhail)
* state machine confusing (ric email) lower priority?
* monitor deadtime per-lane (matt)
* improved grafana (like ganglia)
* reduction algorithms (ric)
* move other hutches to lcls2
* allocation of readout groups and devices, lanes
* shared drp node allocation mechanism
* xpplr8116 geom calib const access for py3
* make restart of hsdioc easier? (matt)
* MHz with real tmo analysis (mona)
* create more platforms for procmgr
* practice power outage
* parallel jupyterhub with visualization
* daq2 chunking
* lcls2 private calibdir (mikhail)
* portable gpu detector corrections (kokkos/hip/openmp/opencl?)
* deploy releases everywhere, containers? (nersc, sdf, new/old psana1)
* unified/integrated timetool calibration
* fix failing new-style psana1 tests (valerio)
* shifter mounting permissions (mona, johannes)
* send multiple copy of events to shmem like lcls1
** small h5 ebeam/gasdet automatic storage (ro)
* small h5 ragged arrays
* meb (or later layer) broadcasts events to all clients (ami, python) (ric)
* read-while-write smallh5
* test daq sequences (caf)
* psana1 MTRX:V2 geometry (mikhail)
* update procServ (caf)
* slow updates need to obey deadtime (matt)
* setting msgdelay in timing system? (matt)
* syslog print throttling
* off-by-one (psana1/2) (ro)
* units support in det xface
* put psana2 (and psana1?) on conda-forge
* calibdb dns issue (in travis macos build)
* in psana SRV callback only persist some fields to h5?
* once we have real data, work more on timetool calc in firmware
* dlopen for reduction alg
* test calibman/geo (mikhail)
* sdf/nersc calib-dir sync (wilko)
* psana1: continuous integration of py3 (jenkins)
* lcls2 configdb tools: history (ro)
* algorithms (drp/ana, e.g. beam-center finding)
* singularity at slac
* support more python versions
* SDF support including ARP
* python DRP? (ric, matt)
* fiber power readings everywhere (matt, tid)
* too many open files (mona)
* peaknet
* ami:
  - josh: nanosecond xpcs: 2 pulse acqiris.  ratio of peak areas, correlation
    export results to ACR
  - josh: xpcs photon counting, working with chuck: accumulate statistics
    and then fit, number of photons per shot in histogram (talk to chuck
    and silke sxrm23). nicholas burdet (shared postdoc)
* timetool (ben): tag to front end, fiber power, toggle xpmini->lcls2 timing, clear readout
* simpler interface for controlling teb/meb?
* xtcav daq recording epics variables as well (and also bld values?)
* xtcav/psocake py3 compatible

**********************************************************************

remote support

* containers
  - additional layer of complexity
  - singularity support @psana
  - onDemand makes it simpler to activate containers
  - permissions
  - size/quotas
  - jupyter onDemand support (copy sdf, kubernetes?)
  - user-generated containers? (complexity)
  - release goal: oip, make a container, use it @lcls and sdf in batch/interactively
* need to work on syncing permissions/acls/groups
* identical directory structure problem solved by using containers
* support both user ad-hoc envs and lcls official envs

